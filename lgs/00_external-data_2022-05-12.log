
R version 4.2.2 (2022-10-31) -- "Innocent and Trusting"
Copyright (C) 2022 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # ------------------------------------------------------------------------------
> # run this in terminal as:
> #  nohup R < data-raw/00_external-data.R --vanilla > lgs/00_external-data_YYYY-MM-DD.log &
> 
> 
> # nohup R < rscripts/01_stk-trails.R --vanilla > lgs/01_stk-trails_YYYY_MM-DD.log &
> lubridate::now()
[1] "2023-05-12 09:32:37 GMT"
> library(sf)
Linking to GEOS 3.9.0, GDAL 3.2.2, PROJ 7.2.1; sf_use_s2() is TRUE
> library(tidyverse)
── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.0     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.0
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
> library(gisland)
> 
> gisland::read_strandlinur() |> 
+   mutate(area = st_area(geom)) |> 
+   filter(area == max(area)) |> 
+   mutate(on_land = TRUE) |> 
+   select(on_land) |> 
+   st_transform(crs = 3057) |> 
+   st_buffer(dist = -100) |> 
+   st_transform(crs = 4326) |> 
+   st_write("data-raw/island.gpkg")
Writing layer `island' to data source `data-raw/island.gpkg' using driver `GPKG'
Writing 1 features with 1 fields and geometry type Multi Polygon.
> 
> sf::read_sf("~/stasi/gis/harbours/gpkg/harbours-hidstd_2023-05-02.gpkg") |> 
+   st_write("data-raw/harbours-hidstd.gpkg")
Writing layer `harbours-hidstd' to data source 
  `data-raw/harbours-hidstd.gpkg' using driver `GPKG'
Writing 153 features with 2 fields and geometry type Polygon.
> readxl::read_excel("~/stasi/gis/harbours/data-raw/stk_harbours.xlsx") |> 
+   write_csv("data-raw/stk_harbours.csv")
> 
> devtools::session_info()
─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.2 (2022-10-31)
 os       Debian GNU/Linux 11 (bullseye)
 system   x86_64, linux-gnu
 ui       X11
 language (EN)
 collate  is_IS.UTF-8
 ctype    is_IS.UTF-8
 tz       Atlantic/Reykjavik
 date     2023-05-12
 pandoc   2.9.2.1 @ /usr/bin/pandoc

─ Packages ───────────────────────────────────────────────────────────────────
 package     * version date (UTC) lib source
 bit           4.0.5   2022-11-15 [1] CRAN (R 4.2.2)
 bit64         4.0.5   2020-08-30 [1] CRAN (R 4.2.2)
 cachem        1.0.7   2023-02-24 [1] CRAN (R 4.2.2)
 callr         3.7.3   2022-11-02 [1] CRAN (R 4.2.2)
 cellranger    1.1.0   2016-07-27 [1] CRAN (R 4.2.2)
 class         7.3-20  2022-01-13 [3] CRAN (R 4.2.2)
 classInt      0.4-9   2023-02-28 [1] CRAN (R 4.2.2)
 cli           3.6.1   2023-03-23 [1] CRAN (R 4.2.2)
 colorspace    2.1-0   2023-01-23 [1] CRAN (R 4.2.2)
 crayon        1.5.2   2022-09-29 [1] CRAN (R 4.2.2)
 curl          5.0.0   2023-01-12 [1] CRAN (R 4.2.2)
 DBI           1.1.3   2022-06-18 [1] CRAN (R 4.2.2)
 devtools      2.4.5   2022-10-11 [1] CRAN (R 4.2.2)
 digest        0.6.31  2022-12-11 [1] CRAN (R 4.2.2)
 dplyr       * 1.1.0   2023-01-29 [1] CRAN (R 4.2.2)
 e1071         1.7-13  2023-02-01 [1] CRAN (R 4.2.2)
 ellipsis      0.3.2   2021-04-29 [1] CRAN (R 4.2.2)
 fansi         1.0.4   2023-01-22 [1] CRAN (R 4.2.2)
 fastmap       1.1.1   2023-02-24 [1] CRAN (R 4.2.2)
 forcats     * 1.0.0   2023-01-29 [1] CRAN (R 4.2.2)
 fs            1.6.1   2023-02-06 [1] CRAN (R 4.2.2)
 generics      0.1.3   2022-07-05 [1] CRAN (R 4.2.2)
 ggplot2     * 3.4.2   2023-04-03 [1] CRAN (R 4.2.2)
 gisland     * 0.2.00  2023-03-01 [1] Github (einarhjorleifsson/gisland@4da501d)
 glue          1.6.2   2022-02-24 [1] CRAN (R 4.2.2)
 gtable        0.3.3   2023-03-21 [1] CRAN (R 4.2.2)
 hms           1.1.3   2023-03-21 [1] CRAN (R 4.2.2)
 htmltools     0.5.5   2023-03-23 [1] CRAN (R 4.2.2)
 htmlwidgets   1.6.2   2023-03-17 [1] CRAN (R 4.2.2)
 httpuv        1.6.9   2023-02-14 [1] CRAN (R 4.2.2)
 httr          1.4.5   2023-02-24 [1] CRAN (R 4.2.2)
 KernSmooth    2.23-20 2021-05-03 [3] CRAN (R 4.2.2)
 later         1.3.0   2021-08-18 [1] CRAN (R 4.2.2)
 lifecycle     1.0.3   2022-10-07 [1] CRAN (R 4.2.2)
 lubridate   * 1.9.2   2023-02-10 [1] CRAN (R 4.2.2)
 lwgeom        0.2-11  2023-01-14 [1] CRAN (R 4.2.2)
 magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.2.2)
 memoise       2.0.1   2021-11-26 [1] CRAN (R 4.2.2)
 mime          0.12    2021-09-28 [1] CRAN (R 4.2.2)
 miniUI        0.1.1.1 2018-05-18 [1] CRAN (R 4.2.2)
 munsell       0.5.0   2018-06-12 [1] CRAN (R 4.2.2)
 pillar        1.9.0   2023-03-22 [1] CRAN (R 4.2.2)
 pkgbuild      1.4.0   2022-11-27 [1] CRAN (R 4.2.2)
 pkgconfig     2.0.3   2019-09-22 [1] CRAN (R 4.2.2)
 pkgload       1.3.2   2022-11-16 [1] CRAN (R 4.2.2)
 prettyunits   1.1.1   2020-01-24 [1] CRAN (R 4.2.2)
 processx      3.8.1   2023-04-18 [1] CRAN (R 4.2.2)
 profvis       0.3.7   2020-11-02 [1] CRAN (R 4.2.2)
 promises      1.2.0.1 2021-02-11 [1] CRAN (R 4.2.2)
 proxy         0.4-27  2022-06-09 [1] CRAN (R 4.2.2)
 ps            1.7.5   2023-04-18 [1] CRAN (R 4.2.2)
 purrr       * 1.0.1   2023-01-10 [1] CRAN (R 4.2.2)
 R6            2.5.1   2021-08-19 [1] CRAN (R 4.2.2)
 Rcpp          1.0.10  2023-01-22 [1] CRAN (R 4.2.2)
 readr       * 2.1.4   2023-02-10 [1] CRAN (R 4.2.2)
 readxl        1.4.2   2023-02-09 [1] CRAN (R 4.2.2)
 remotes       2.4.2   2021-11-30 [1] CRAN (R 4.2.2)
 rlang         1.1.0   2023-03-14 [1] CRAN (R 4.2.2)
 rstudioapi    0.14    2022-08-22 [1] CRAN (R 4.2.2)
 s2            1.1.2   2023-01-12 [1] CRAN (R 4.2.2)
 scales        1.2.1   2022-08-20 [1] CRAN (R 4.2.2)
 sessioninfo   1.2.2   2021-12-06 [1] CRAN (R 4.2.2)
 sf          * 1.0-12  2023-03-19 [1] CRAN (R 4.2.2)
 shiny         1.7.4   2022-12-15 [1] CRAN (R 4.2.2)
 stringi       1.7.12  2023-01-11 [1] CRAN (R 4.2.2)
 stringr     * 1.5.0   2022-12-02 [1] CRAN (R 4.2.2)
 tibble      * 3.2.0   2023-03-08 [1] CRAN (R 4.2.2)
 tidyr       * 1.3.0   2023-01-24 [1] CRAN (R 4.2.2)
 tidyselect    1.2.0   2022-10-10 [1] CRAN (R 4.2.2)
 tidyverse   * 2.0.0   2023-02-22 [1] CRAN (R 4.2.2)
 timechange    0.2.0   2023-01-11 [1] CRAN (R 4.2.2)
 tzdb          0.3.0   2022-03-28 [1] CRAN (R 4.2.2)
 units         0.8-1   2022-12-10 [1] CRAN (R 4.2.2)
 urlchecker    1.0.1   2021-11-30 [1] CRAN (R 4.2.2)
 usethis       2.1.6   2022-05-25 [1] CRAN (R 4.2.2)
 utf8          1.2.3   2023-01-31 [1] CRAN (R 4.2.2)
 vctrs         0.6.2   2023-04-19 [1] CRAN (R 4.2.2)
 vroom         1.6.1   2023-01-22 [1] CRAN (R 4.2.2)
 withr         2.5.0   2022-03-03 [1] CRAN (R 4.2.2)
 wk            0.7.2   2023-03-17 [1] CRAN (R 4.2.2)
 xtable        1.8-4   2019-04-21 [1] CRAN (R 4.2.2)

 [1] /home/haf/einarhj/R/x86_64-pc-linux-gnu-library/4.2
 [2] /usr/local/lib/R/site/x86_64-pc-linux-gnu-library/4.2
 [3] /usr/lib/R/library

──────────────────────────────────────────────────────────────────────────────
> 
> 
> 
